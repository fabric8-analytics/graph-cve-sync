"""Test status_check.py functions."""

from unittest.mock import patch
from status_check import StatusCheck


@patch("helper.Helper.store_json_content")
def test_status_check(m1):
    """Test status_check function."""
    m1.return_value = True
    obj = StatusCheck()
    res = obj.status_check()
    print(res)
    assert res is True
    assert not obj.result_format['failure']


@patch("helper.Helper.store_json_content")
def test_status_check1(m1):
    """Test status_check function."""
    m1.return_value = True
    obj = StatusCheck()
    obj.result_format['failure'] = True
    res = obj.status_check()
    assert res is True
    assert obj.result_format['failure']


@patch("helper.Helper.store_json_content")
@patch("status_check.get_versions_for_ep")
def test_status_check2(m1, m2):
    """Test status_check function."""
    m2.return_value = True
    m1.return_value = []
    obj = StatusCheck()
    res = obj.status_check()
    assert res is True
    assert obj.result_format['failure']
